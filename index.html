<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Job Sphere - Find Your Dream Job</title>
  <link rel="stylesheet" href="style.css">

  <style>
    /* ===== Modern Nature-Inspired Design ===== */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif; background: #fafafa; }

    /* Hero Section */
    .hero-section { background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 25%, #e3f2fd 75%, #f3e5f5 100%); padding: 60px 20px; position: relative; overflow: hidden; }
    .hero-section::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: 
      radial-gradient(circle at 20% 50%, rgba(118,200,147,0.05) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(211,180,255,0.05) 0%, transparent 50%);
      pointer-events: none;
    }
    .hero-content { max-width: 1200px; margin: 0 auto; position: relative; z-index: 1; }
    .hero-left { max-width: 600px; }
    .hero-left h1 { font-size: 2.8rem; color: #143; margin-bottom: 12px; line-height: 1.2; font-weight: 800; }
    .hero-left p { font-size: 1.05rem; color: #555; margin-bottom: 20px; line-height: 1.6; }
    .search-box { display: flex; gap: 10px; align-items: center; margin-bottom: 20px; }
    .search-box input { flex: 1; padding: 14px; border-radius: 10px; border: none; font-size: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: all 0.2s ease; }
    .search-box input:focus { outline: none; transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }

    /* Buttons */
    .btn-primary { background: linear-gradient(90deg, #2e7d32, #66bb6a); color: white; padding: 12px 24px; border-radius: 9px; text-decoration: none; font-weight: 600; cursor: pointer; border: none; transition: all 0.2s ease; display: inline-block; }
    .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 12px 30px rgba(40,120,40,0.15); }
    .btn-secondary { background: white; border: 2px solid #2e7d32; color: #2e7d32; padding: 12px 24px; border-radius: 9px; font-weight: 600; cursor: pointer; transition: all 0.2s ease; }
    .btn-secondary:hover { background: #f0f8f0; transform: translateY(-2px); }

    /* Stats Section */
    .stats-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; max-width: 1200px; margin: -40px auto 40px; padding: 0 20px; position: relative; z-index: 2; }
    .stat-card { background: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 6px 20px rgba(0,0,0,0.08); transition: all 0.3s ease; }
    .stat-card:hover { transform: translateY(-8px); box-shadow: 0 12px 40px rgba(0,0,0,0.12); }
    .stat-card h3 { font-size: 2.2rem; color: #2e7d32; margin-bottom: 6px; font-weight: 700; }
    .stat-card p { color: #666; font-size: 0.95rem; }

    /* Job Category Tables Section */
    .category-tables-section { max-width: 1200px; margin: 50px auto; padding: 0 20px; }
    .category-tables-section h2 { font-size: 2rem; color: #143; text-align: center; margin-bottom: 30px; }
    .tables-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 24px; }
    .table-card { background: white; border-radius: 14px; padding: 20px; box-shadow: 0 4px 16px rgba(0,0,0,0.06); overflow: hidden; transition: all 0.3s ease; }
    .table-card:hover { transform: translateY(-6px); box-shadow: 0 12px 35px rgba(0,0,0,0.1); }
    .table-card h3 { color: #2e7d32; margin-bottom: 12px; font-size: 1.2rem; }
    .table-card table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
    .table-card th { background: linear-gradient(90deg, #e8f5e9, #f1f8e9); padding: 8px; text-align: left; color: #333; font-weight: 600; border-bottom: 2px solid #2e7d32; }
    .table-card td { padding: 8px; border-bottom: 1px solid rgba(0,0,0,0.04); color: #555; }
    .table-card tr:hover td { background: rgba(46, 125, 50, 0.02); }
    .table-card a { color: #2e7d32; text-decoration: none; font-weight: 600; transition: all 0.2s ease; }
    .table-card a:hover { text-decoration: underline; }

    /* Featured Jobs Section */
    .featured-section { max-width: 1200px; margin: 50px auto; padding: 0 20px; }
    .featured-section h2 { font-size: 2rem; color: #143; margin-bottom: 30px; }
    .featured-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .job-card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.06); transition: all 0.3s ease; border-left: 4px solid #2e7d32; }
    .job-card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.1); }
    .job-card h4 { color: #143; margin-bottom: 6px; }
    .job-card .badge { display: inline-block; background: #e8f5e9; color: #2e7d32; padding: 4px 10px; border-radius: 6px; font-size: 0.85rem; margin-bottom: 10px; }
    .job-card p { color: #666; font-size: 0.9rem; margin: 8px 0; }
    .job-card .actions { display: flex; gap: 8px; margin-top: 12px; }
    .job-card .actions a { flex: 1; padding: 8px; border-radius: 6px; text-align: center; text-decoration: none; font-size: 0.9rem; transition: all 0.2s ease; }
    .job-card .actions .view { background: #f0f0f0; color: #333; }
    .job-card .actions .apply { background: #2e7d32; color: white; }
    .job-card .actions a:hover { transform: scale(1.05); }

    /* CTA Section */
    .cta-section { background: linear-gradient(135deg, #2e7d32, #66bb6a); color: white; padding: 60px 20px; text-align: center; margin: 50px 0; }
    .cta-section h2 { font-size: 2.2rem; margin-bottom: 12px; }
    .cta-section p { font-size: 1.1rem; margin-bottom: 20px; }
    .cta-buttons { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    .cta-buttons a, .cta-buttons button { padding: 12px 24px; border-radius: 8px; text-decoration: none; font-weight: 600; cursor: pointer; border: none; transition: all 0.2s ease; }
    .cta-buttons .btn-light { background: white; color: #2e7d32; }
    .cta-buttons .btn-light:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }

    /* Nature decor */
    .nature-decor { position: fixed; bottom: -50px; right: 10%; width: 300px; opacity: 0.6; pointer-events: none; }
    .leaf-float { animation: float-leaf 6s ease-in-out infinite; }
    @keyframes float-leaf { 0% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-20px) rotate(8deg); } 100% { transform: translateY(0) rotate(0deg); } }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-left h1 { font-size: 1.8rem; }
      .search-box { flex-direction: column; }
      .stats-section { margin-top: 20px; }
      .tables-grid { grid-template-columns: 1fr; }
      .nature-decor { display: none; }
    }
  </style>
</head>

<body>
  <header class="header">
    <div class="container wrap">
      <a href="/index.html" class="brand"><div class="logo">JS</div><div><strong>Job Sphere</strong></div></a>
      <nav class="nav">
        <a href="/pages/jobs.html">All Jobs</a>
        <a href="/pages/categories.html">Categories</a>
        <a href="/pages/contact.html">Contact</a>
        <a href="/pages/login.html">Login</a>
        <a href="/pages/signup.html" class="cta">Sign Up</a>
        <button id="settingsBtn" style="background: none; border: none; cursor: pointer; font-size: 1.2rem; color: #333;">⚙️</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <div class="hero-left">
          <h1>Find Your Dream Job Today</h1>
          <p>Explore opportunities in Government, Private, Off-Campus & Internship roles. Fast, simple, and designed for you.</p>
          <div class="search-box">
            <input id="search" class="input" placeholder="Search by job title, company or role...">
            <a href="/pages/jobs.html" class="btn-primary">Search</a>
          </div>
          <div style="display: flex; gap: 12px; flex-wrap: wrap;">
            <a href="/pages/categories.html" class="btn-secondary">Browse Categories</a>
            <a href="/pages/post-job.html" class="btn-secondary">Post a Job</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Stats -->
    <section class="stats-section">
      <div class="stat-card">
        <h3 id="totalJobs">0</h3>
        <p>Jobs Available</p>
      </div>
      <div class="stat-card">
        <h3 id="totalUsers">0</h3>
        <p>Job Seekers</p>
      </div>
      <div class="stat-card">
        <h3 id="totalCategories">0</h3>
        <p>Categories</p>
      </div>
      <div class="stat-card">
        <h3>24/7</h3>
        <p>Support Ready</p>
      </div>
    </section>

    <!-- Job Category Tables -->
    <section class="category-tables-section">
      <h2>Popular Job Categories</h2>
      <div class="tables-grid" id="categoryTables"></div>
    </section>

    <!-- Featured Jobs -->
    <section class="featured-section">
      <h2>Featured Opportunities</h2>
      <div class="featured-grid" id="featuredJobs"></div>
    </section>

    <!-- Call-to-Action -->
    <section class="cta-section">
      <h2>Ready to Start Your Journey?</h2>
      <p>Join thousands of job seekers and employers on Job Sphere.</p>
      <div class="cta-buttons">
        <a href="/pages/signup.html" class="btn-light">Get Started</a>
        <a href="/pages/categories.html" class="btn-light">Explore Jobs</a>
      </div>
    </section>
  </main>

  <!-- Settings Modal -->
  <div id="settingsModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:9999;align-items:center;justify-content:center;">
    <div style="background:white;border-radius:12px;padding:24px;max-width:500px;width:90%;box-shadow:0 12px 40px rgba(0,0,0,0.2);">
      <h2 style="margin-top:0;color:#2e7d32;">⚙️ Database Settings</h2>
      <div style="margin:20px 0;">
        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;">
          <input type="checkbox" id="mongoDBToggle" style="width:18px;height:18px;cursor:pointer;">
          <span style="color:#333;font-weight:600;">Enable MongoDB Persistence</span>
        </label>
        <p style="font-size:0.85rem;color:#999;margin-top:4px;">When enabled, jobs/users/categories will sync with backend API.</p>
      </div>
      <div style="margin:20px 0;">
        <label style="display:block;font-weight:600;color:#333;margin-bottom:6px;">API URL:</label>
        <input type="text" id="mongoDBUrl" placeholder="http://localhost:3000/api" style="width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;box-sizing:border-box;">
        <p style="font-size:0.85rem;color:#999;margin-top:4px;">Backend API endpoint (without trailing slash)</p>
      </div>
      <div style="display:flex;gap:10px;margin-top:20px;">
        <button id="settingsSave" style="flex:1;background:#2e7d32;color:white;border:none;padding:10px;border-radius:6px;cursor:pointer;font-weight:600;">Save</button>
        <button id="settingsClose" style="flex:1;background:#f0f0f0;color:#333;border:none;padding:10px;border-radius:6px;cursor:pointer;font-weight:600;">Close</button>
      </div>
    </div>
  </div>

  <!-- Nature Decoration -->
  <svg class="nature-decor leaf-float" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
    <g fill="#76c893" opacity="0.4">
      <path d="M20,100 C40,10 160,10 180,100 C160,120 40,120 20,100 Z"/>
    </g>
  </svg>

  <footer class="footer">© Job Sphere • Find Your Perfect Fit</footer>
  <script src="/db.js"></script>
  <script src="app.js"></script>
  <script>
    // Settings modal logic
    document.addEventListener('DOMContentLoaded', ()=>{
      const settingsBtn = document.getElementById('settingsBtn');
      const modal = document.getElementById('settingsModal');
      const closeBtn = document.getElementById('settingsClose');
      const saveBtn = document.getElementById('settingsSave');
      const toggle = document.getElementById('mongoDBToggle');
      const urlInput = document.getElementById('mongoDBUrl');

      // Load saved settings from sessionStorage
      const savedSettings = JSON.parse(sessionStorage.getItem('job_spare_db_settings') || '{"USE_MONGODB":false,"API_URL":"http://localhost:3000/api"}');
      toggle.checked = savedSettings.USE_MONGODB;
      urlInput.value = savedSettings.API_URL || 'http://localhost:3000/api';

      // Open modal
      if(settingsBtn) settingsBtn.addEventListener('click', ()=> modal.style.display = 'flex');

      // Close modal
      if(closeBtn) closeBtn.addEventListener('click', ()=> modal.style.display = 'none');
      modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.style.display = 'none'; });

      // Save settings
      if(saveBtn) saveBtn.addEventListener('click', ()=>{
        const settings = {
          USE_MONGODB: toggle.checked,
          API_URL: urlInput.value.trim() || 'http://localhost:3000/api'
        };
        sessionStorage.setItem('job_spare_db_settings', JSON.stringify(settings));
        // update DBModule config if present
        if(window.DBModule && DBModule.DB_CONFIG){
          DBModule.DB_CONFIG.USE_MONGODB = settings.USE_MONGODB;
          DBModule.DB_CONFIG.MONGODB_API_URL = settings.API_URL;
        }
        alert('Settings saved! Refresh the page to apply changes.');
        modal.style.display = 'none';
      });
    });
  </script>
</body>
</html>
